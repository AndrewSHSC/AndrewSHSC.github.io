function panelControl(e){e={panel:null,panelButtons:[],closeButton:null,focusOut:!0,bodyOverlay:!1,bodyClose:!1,preventScrolling:!1,closePreviousContainer:null,...e},this.init=function(){const t=e.panelButtons,n=e.panel,c=e.closeButton,o=e.closePreviousContainer,i="pc-"+Math.floor(1e9*Math.random());var s="";function l(e){n.classList.remove("pc-isActive"),t.forEach((function(e){e.setAttribute("aria-expanded","false"),e.classList.remove("pc-isActive")})),window.setTimeout((function(){e.focus()}),100),a()}function a(){const t=n.querySelectorAll("iframe")[0];t&&t.setAttribute("src",""),!0===e.bodyOverlay&&document.body.classList.remove("pc-bodyOverlay"),!0===e.preventScrolling&&(document.documentElement.classList.remove("pc-preventScrolling"),document.body.classList.remove("pc-preventScrolling")),!0===e.bodyClose&&setTimeout((()=>{document.body.removeEventListener("click",r)}),0)}function r(){const e=document.querySelectorAll(".pc-panel.pc-isActive")[0];if(e){e.getAttribute("aria-labelledby").split(" ").forEach((function(t){const n=document.getElementById(t);null!=n&&(n.setAttribute("aria-expanded","false"),n.classList.remove("pc-isActive"),e.classList.remove("pc-isActive"),a())}))}document.body.removeEventListener("click",r)}t.forEach((function(d){const u="pc-"+Math.floor(1e9*Math.random());s=u+" "+s,d.setAttribute("id",u),d.setAttribute("aria-controls",i),d.setAttribute("aria-expanded","false"),d.addEventListener("click",(function(c){c.preventDefault(),c.stopPropagation();"false"==d.getAttribute("aria-expanded")?(null!=o&&function(){const e=o.querySelectorAll(".pc-panel.pc-isActive")[0];if(e){e.getAttribute("aria-labelledby").split(" ").forEach((function(t){const n=document.getElementById(t);null!=n&&(n.setAttribute("aria-expanded","false"),n.classList.remove("pc-isActive"),e.classList.remove("pc-isActive"),a())}))}}(),function(){n.classList.add("pc-isActive"),t.forEach((function(e){e.setAttribute("aria-expanded","true"),e.classList.add("pc-isActive")}));const c=n.querySelectorAll("iframe")[0];if(c){const e=c.getAttribute("data-src");c.setAttribute("src",e)}!0===e.bodyOverlay&&document.body.classList.add("pc-bodyOverlay");!0===e.preventScrolling&&(document.documentElement.classList.add("pc-preventScrolling"),document.body.classList.add("pc-preventScrolling"));!0===e.bodyClose&&setTimeout((()=>{document.body.addEventListener("click",r)}),0)}(),function(t){const c=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=c[0],i=c[c.length-1];o&&window.setTimeout((function(){o.focus()}),100);i&&!0===e.focusOut&&i.addEventListener("keydown",(function(e){9==(e.keyCode||e.which)&&l(t)}));document.addEventListener("keydown",(function(e){27==(e.keyCode||e.which)&&l(t)}))}(d)):l(d)})),null!=c&&c.addEventListener("click",(function(e){l(d)}))})),n.setAttribute("id",i),n.classList.add("pc-panel"),n.setAttribute("aria-labelledby",s),n.addEventListener("click",(function(e){e.stopPropagation()}))},this.init()}